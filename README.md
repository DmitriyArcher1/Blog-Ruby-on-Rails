<div align="center">
    <h1>:camera: –§–æ—Ç–æ-–±–ª–æ–≥ :camera:</h1>
</div>


<div align="center">
    <h2> üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –±—ã—Å—Ç—Ä–æ–º—É –∑–∞–ø—É—Å–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
</div>

#### –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –±—ã—Å—Ç—Ä–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–§–æ—Ç–æ-–±–ª–æ–≥" (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ –æ–±—Ä–∞–∑–æ–º blog-ruby-on-rails-web:latest) —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö MySQL (–æ–±—Ä–∞–∑ mysql:8.0) –∏—Å–ø–æ–ª—å–∑—É—è Docker Compose.
___

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ docker-compose.yml](#-—Å–æ–∑–¥–∞–Ω–∏–µ-—Ñ–∞–π–ª–∞-docker-composeyml)
4. [–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö-–∏-–∑–∞–ø—É—Å–∫-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
5. [–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é](#-–¥–æ—Å—Ç—É–ø-–∫-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é)
6. [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker Compose](#-–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã-docker-compose)
7. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
___
## üõ†Ô∏è –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Docker** –∏ **Docker Compose.**

- Docker Engine. [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Docker](https://docs.docker.com/engine/install/)
- Docker Compose. –û–±—ã—á–Ω–æ –æ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Docker Desktop. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –ø–æ –∫–∞–∫–æ–π-–ª–∏–±–æ –ø—Ä–∏—á–∏–Ω–µ, —Ç–æ [—Å–ª–µ–¥—É–π—Ç–µ –¥–∞–Ω–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º](https://docs.docker.com/compose/install/)

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É **Docker** –∏ **Docker Compose** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
docker --version
docker-compose --version
```
___
## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
–î–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏—à—å –æ–¥–∏–Ω —Ñ–∞–π–ª - **docker-compose.yml.**
–û–Ω –Ω—É–∂–µ–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–±—Ä–∞–∑—ã (Image) —Å–æ–±–∏—Ä–∞–ª–∏—Å—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```
‚îÄ‚îÄ docker-compose.yml
```
___
## üìù –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ docker-compose.yml
–°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –≤ –Ω–µ–π –∂–µ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª **docker-compose.yml.** –ù–∏–∫–∞–∫–∏–µ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã, –∫—Ä–æ–º–µ —ç—Ç–æ–≥–æ, –≤–∞–º –Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è.
```bash
mkdir photo-blog-app
cd photo-blog-app
touch docker-compose.yml
```
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```docker
version: "3.9"

services:
  db:
    image: archero01/mysql:8.0
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: qwerty2007
      MYSQL_DATABASE: my_blog_development
    volumes:
      - db_data:/opt/homebrew/var/mysql/
    ports:
      - "3306:3306"

  web:
    image: archero01/blog-ruby-on-rails-web:latest
    command: bash -c "rm -f tmp/pids/server.pid && bundle exec rails s -p 3500 -b '0.0.0.0'"
    volumes:
      - .:/app
    ports:
      - "3500:3500"
    depends_on:
      - db
    environment:
      RAILS_ENV: development
      DATABASE_URL: mysql2://root:qwerty2007@db:3306/my_blog_development

volumes:
  db_data:
```
___
## üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –≤–∞—Å –µ—Å—Ç—å —Ñ–∞–π–ª **docker-compose.yml** –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ù–æ –ø–µ—Ä–µ–¥ —ç—Ç–∏–º –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ —Å–≤–æ–π Docker –º–æ–∏ –æ–±—Ä–∞–∑—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. 

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Docker Hub(–±–µ–∑ –Ω–∏—Ö —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∏—á–µ–≥–æ –Ω–µ –±—É–¥–µ—Ç):
```bash
docker pull archero01/mysql:8.0
docker pull archero01/blog-ruby-on-rails-web:latest
```
–ï—Å–ª–∏ –≤–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –≤ –º–æ–∏ **[—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://hub.docker.com/repositories/archero01)** –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç—Ç–∏—Ö Image.

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±—Ä–∞–∑–æ–≤ –≤ —Å–≤–æ–π Docker –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–∑–æ–≤ –∏ —Å–±–æ—Ä–∫–∞ –∏—Ö –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker-compose up
```
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –ë–î. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
```bash
docker compose exec web bundle exec rails db:migrate
```
___
## üåê –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç, –∑–∞–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É: 

URL: http://localhost:3500/

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ñ–æ—Ç–æ-–±–ª–æ–≥–∞, –≥–¥–µ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤.
___
## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker Compose
–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ Image:
```bash
docker-compose ps
```

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
dockercompose logs -f
```

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ web:
```bash
docker-compose logf -f web
```

–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å rails):
```bash
docker-compose exec web bundle exec rails console
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker-compose restart web
```

(–ï—Å–ª–∏ –µ—Å—Ç—å Dockerfile) –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```bash
docker-compose up --build
```
___
## ‚ö†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

- **"Cannot connect to the Docker daemon"** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker –∑–∞–ø—É—â–µ–Ω –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.
- **"–û—à–∏–±–∫–∞ –ø–æ–¥–ª–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Rails"**:

    - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ web:
    ```bash
    docker-compose logs web
    ```
    - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ docker-compose.yml —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –∏ db –∏ web;
    - –ï—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â—ë –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â—ë –Ω–µ–º–Ω–æ–≥–æ –∏ –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –µ—â—ë —Ä–∞–∑;
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä db –∏–ª–∏ web –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç**:
    - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
    ```bash
    docker-compose logs <–∏–º—è-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞>
    ```
    - –í–æ–∑–º–æ–∂–Ω–æ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤. –í–∞–º –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ—Ä—Ç—ã 3500 –∏ 3306 –Ω–µ –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –Ω–∞ —Ö–æ—Å—Ç–µ;
- **Rails –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π**:
    - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Rails –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞